@model List<HqCatalog.Business.Models.Hq>

@{
    ViewData["Title"] = "Catálogo de HQs";
}

<div class="container mt-4">
    <div class="row">
        <!-- Sidebar de Filtros -->
        <div class="col-md-3">
            <div class="filter-sidebar">
                <h4><strong>Filtros</strong></h4>
                <hr>
                <h5>Editora</h5>
                <div id="editora-filtros">
                    @foreach (var editora in Model.Select(hq => hq.Editora).Distinct())
                    {
                        <label><input type="checkbox" class="filter-checkbox" data-filter="editora" value="@editora"> @editora</label>
                        <br>
                    }
                </div>
                <h5>Gênero</h5>
                <div id="genero-filtros">
                    @foreach (var genero in Model.Select(hq => hq.Genero).Distinct())
                    {
                        <label><input type="checkbox" class="filter-checkbox" data-filter="genero" value="@genero"> @genero</label>
                        <br>
                    }
                </div>
            </div>
        </div>

        <!-- Lista de HQs -->
        <div class="col-md-9">
            <div class="row" id="hq-list">
                @foreach (var hq in Model)
                {
                    <div class="col-lg-4 col-md-6 col-sm-12 d-flex align-items-stretch hq-item" data-editora="@hq.Editora" data-genero="@hq.Genero">
                        <div class="hq-card text-center shadow-sm hq-hover hq-@hq.Personagem.ToLower()"
                             style="border: 2px solid @(hq.Editora == "DC Comics" ? "#1E88E5" : hq.Editora == "Marvel Comics" ? "#D32F2F" : "#333")">

                            <div class="hq-editora-bubble" style="background-color: @(hq.Editora == "DC Comics" ? "#1E88E5" : hq.Editora == "Marvel Comics" ? "#D32F2F" : "#333")">
                                @hq.Editora
                            </div>

                            <img src="~/imagens/hqs/@hq.ImagemUrl" class="hq-image" alt="@hq.Titulo">

                            <!-- Efeitos de Personagem -->
                            @if (hq.Personagem == "Batman")
                            {
                                <div class="effect-overlay">
                                    <img src="~/imagens/morcego.png" class="effect-icon top-left">
                                    <img src="~/imagens/morcego.png" class="effect-icon top-right">
                                    <img src="~/imagens/morcego.png" class="effect-icon bottom-left">
                                    <img src="~/imagens/morcego.png" class="effect-icon bottom-right">
                                </div>
                            }

                            @if (hq.Personagem == "Homem-Aranha")
                            {
                                <div class="effect-overlay">
                                    <img src="~/imagens/teia.png" class="effect-icon top-left">
                                    <img src="~/imagens/teia.png" class="effect-icon top-right">
                                    <img src="~/imagens/teia.png" class="effect-icon bottom-left">
                                    <img src="~/imagens/teia.png" class="effect-icon bottom-right">
                                </div>
                            }

                            @if (hq.Personagem == "Capitão América")
                            {
                                <div class="effect-overlay">
                                    <img src="~/imagens/escudo.png" class="effect-icon top-left">
                                    <img src="~/imagens/escudo.png" class="effect-icon top-right">
                                    <img src="~/imagens/escudo.png" class="effect-icon bottom-left">
                                    <img src="~/imagens/escudo.png" class="effect-icon bottom-right">
                                </div>
                            }

                            <div class="hq-info">
                                <h5 class="hq-title">@hq.Titulo</h5>
                                <p class="hq-description">@hq.Sinopse</p> <!-- Sinopse corrigida -->
                                <a href="@Url.Action("Detalhes", "Hq", new { id = hq.Id })"
                                   class="hq-button"
                                   style="background-color: @(hq.Editora == "DC Comics" ? "#1E88E5" :
                                                            hq.Editora == "Marvel Comics" ? "#D32F2F" :
                                                            hq.Editora == "Image Comics" ? "#444" : "#555")">
                                    Descubra Agora
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
